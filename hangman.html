<!DOCTYPE html>
<html>
<head>
  <title>Hangman Game!</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <script> 
    $(document).ready(function () {
      var total_guesses = 10;
      var word = "SUBDERMATOGLYPHIC";
      var blanks = "_".repeat(word.length);
      var guesses = "";

      $("#word").html(blanks);
      
      $(".letter").click(function () {
        var id = $(this).attr('id');
        console.log("Clicked on " + id); 

        if (guesses.includes(id)) { 
          $("#error_msg").html("You already guessed " + id); 
        } else {
          guesses = guesses + id;
          $("#" + id).css('text-decoration', 'line-through');

          total_guesses = total_guesses - 1;
          if (total_guesses < 0) {
            $("#error_msg").html("You are out of guesses. You lose!");
          } else { 
            $("#numleft").html(total_guesses);

            if (word.includes(id)) {
              var indices = [];
              for (var i = 0; i < word.length; i++) {
                if (word[i] === id) {
                  indices.push(i);
                }
              }
              for (var i = 0; i < indices.length; i++) {
                var index = indices[i];
                blanks = blanks.substr(0, index) + id + blanks.substr(index + 1);
              }
              $("#word").html(blanks);

              if (blanks === word) {
                $("#error_msg").text("You winnnnnn!");
              }
            }
          }
        }
      });
    });
  </script>
</head>

<body>
  <h1> Hangman! </h1>

  <div id="changes"> 
    <p> You have <span id="numleft">10</span> chances left. </p>
  </div>

  <div id="wordspace">
    <p> The word to guess is <span id="word" style="font-weight:bold;"></span></p>
  </div>

  <div id="entry"> 
    <p> Click on a letter to make a guess!</p>
    <p>
      <span class="letter" id="a">a</span>
      <span class="letter" id="b">b</span>
      <span class="letter" id="c">c</span>
      <!-- ... Rest of the letters ... -->
    </p>
  </div>

  <div id="error_msg" style="color:red;"></div>
</body>
</html>

