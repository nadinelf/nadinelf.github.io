<!DOCTYPE html>
<html>

<head>
  <title>Energy in Brazil</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-mH9Ui/15Qmzy3T2F5ijmEIsZmtrHvAgF8uvokM3gJZvWiLTv6JX8lGtohDfAAw2U6fdF1kpyXTjb53DgC/BfKQ=="
    crossorigin="anonymous" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


  <style>
    
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    #map1 {
      height: 500px;
      width: 800px;
      margin: 30px auto;
      border: 2px solid #ddd;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }

    h1 {
      text-align: center;
      background-color: #66a3ff; /* Lighter shade of blue */
      color: #fff;
      padding: 15px;
      margin: 0;
    }

    .map-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
    }

    .button-container {
      margin-top: 20px;
    }

    .toggle-button {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }

    .toggle-button.vulnerabilidade,
    .toggle-button.quilombola {
      background-color: #66a3ff; /* Lighter shade of blue */
      color: white;
    }
    
    .container {
      text-align: center;
    }

    #ball {
      width: 50px;
      height: 50px;
      background-color: #ff5733;
      border-radius: 50%;
      position: relative;
      animation: bounce 2s ease-in-out infinite;
    }


    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-200px);
      }
    }
    
     //Tooltip styles
 
  .tooltip-container {
      position: relative;
    }

    .tooltip {
      display: inline-block;
      cursor: pointer;
    }

    .tooltip-content {
      position: absolute;
      bottom: 20px;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      width: 150px;
      padding: 5px;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      font-size: 14px;
      text-align: center;
      border-radius: 5px;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s, visibility 0.3s;
       max-width: 150px;
    }

    .tooltip-container:hover .tooltip-content {
      visibility: visible;
      opacity: 1;
    }

    .tooltip-content img {
  max-width: 30%;
  height: auto; 
}
    
  </style>

</head>

<body>
  <script>
    window.onload = function () {
      alert("You are about to learn about energy injustice in Brazil!\n\np.s.: geog 50.02 is the best class ever!");
    };
  </script>
  
 <h1 style="background-color: #99c2ff;">
   <a href="https://youtu.be/5AIW7j_Xjc4" target="_blank" rel="noopener noreferrer">
    Energy in <span style="cursor: pointer;">Brazil</span>
  </a></h1>
  
  <div class="container">
    <div id="ball"></div>
    <p>
      Imagine you have a super bouncy ball. When you throw it on the ground, it bounces back up, right? That
      bouncing action is like energy. Energy is a special invisible thing that helps things happen and makes them move.
      Just like how the bouncy ball has the power to bounce, everything around us, like toys, cars, and even our own
      bodies, has its own kind of energy that makes it work and move. 
    </p>
  </div>
  
  <div class="container">
    <p>
      Hydropower energy is like using the power of water to make things work. Imagine a big waterfall with water rushing
      down really fast. People can put special machines in the water that use its energy to spin around, just like a
      water wheel or a spinning top. So, hydropower is like having a super fun
      and strong friend, water, that helps us make electricity by playing and spinning around!
    </p>
     <p>In Brazil, while big dams like the <span class="tooltip-container">
        <span class="tooltip-content">
          <img src="belomonte.jpeg" alt="Belo Monte">
        </span>
        <span class="tooltip">Belo Monte</span></span>
      and <span class="tooltip-container">
        <span class="tooltip-content">
          <img src="Itaipu.jpeg" alt="Itaipu">
        </span>
        <span class="tooltip">Itaipu</span></span> brought power to cities and industries, they've also caused problems. Indigenous communities have faced displacement
      from their lands, leading to cultural and social disruptions. The dams can harm the Amazon rainforest, disrupting the natural flow of 
      rivers and impacting local plants and animals. Sometimes, the benefits of this energy don't reach everyone equally, with rural and 
      marginalized communities often left with the negative effects while others reap the rewards.</p>
  </div>

  <div id="hangman-game" style="margin: 20px;">
  <h3>Hangman Game: How do we call big projects that harm marginalized communities?</h1>
  <div>
    <p>You have <span id="numleft">15</span> chances left.</p>
  </div>
  <div>
    <p>The word to guess is <span id="word" style="font-weight:bold;"></span></p>
  </div>
  <div>
    <p>Click on a letter to make a guess!</p>
    <p>
      <span class="letter" id="i">i</span>
      <span class="letter" id="n">n</span>
      <span class="letter" id="j">j</span>
      <span class="letter" id="u">u</span>
      <span class="letter" id="s">s</span>
      <span class="letter" id="t">t</span>
      <span class="letter" id="c">c</span>
      <span class="letter" id="e">e</span>
    </p>
  </div>
  <div id="error_msg" style="color:red;"></div>
</div>

<script>
  $(document).ready(function () {
    var total_guesses = 15;
    var word = "injustice";
    var blanks = "_".repeat(word.length);
    var guesses = "";
    $("#word").html(blanks);

    $(".letter").click(function () {
      var id = $(this).attr('id');

      if (guesses.includes(id)) {
        $("#error_msg").html("You already guessed " + id);
      } else {
        guesses = guesses + id;
        $("#" + id).css('text-decoration', 'line-through');
        total_guesses = total_guesses - 1;
        if (total_guesses < 0) {
          $("#error_msg").html("You are out of guesses. You lose! It is not 'development'; it's 'injustice!'");
        } else {
          $("#numleft").html(total_guesses);
          if (word.includes(id)) {
            var indices = [];
            for (var i = 0; i < word.length; i++) {
              if (word[i] === id) {
                indices.push(i);
              }
            }
            for (var i = 0; i < indices.length; i++) {
              var index = indices[i];
              blanks = blanks.substr(0, index) + id + blanks.substr(index + 1);
            }
            $("#word").html(blanks);
            if (blanks === word) {
              $("#error_msg").text("You win! It's an injustice indeed");
            }
          }
        }
      }
    });
  });
</script>

  <div class="map-container">
    <div id="map1"></div>
    <div class="button-container">
       <button id="toggleVulnerabilidade" class="toggle-button vulnerabilidade" hidden>Toggle the Vulnerability Layer</button>
      <button id="toggleQuilombola" class="toggle-button quilombola" hidden>Toggle the Quilombola Layer</button>
      <button id="toggleHidro" class="toggle-button" hidden>Toggle the Hydropower Layer</button>
      <button id="toggleEdif" class="toggle-button">Toggle the Edif Layer</button>
      <button id="toggleTermo" class="toggle-button">Toggle the Termo Layer</button>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <script src="brasilvulnerabilidade.geojson"></script>
  <script src="areasquilombola.geojson"></script>
  <script src="hidro.geojson"></script>
  <script src="edif.geojson"></script>
  <script src="termo.geojson"></script>
  <script src="trechocom.geojson"></script>
  <script src="trechoen.geojson"></script>

  <script>
    var vulnerabilidadeLayer;
    var quilombolaLayer;
    var hidroLayer;
    var termoLayer;
    var trechocomLayer;
    var trechoenLayer;
    var edifLayer;
    var vulnerabilidadeVisible = false;
    var quilombolaVisible = false;
    var hidroVisible = false;
    var termoVisible = false;
    var edifVisible = false;

    var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
      maxZoom: 10,
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, ' +
        'Tiles courtesy of <a href="http://www.hot.osm.org">HOT OSM</a>'
    });

    function initialize() {
      // Define the bounds of Brazil
      var brazilBounds = L.latLngBounds(
        L.latLng(-33.742000, -73.985000), // Southwest coordinates of Brazil
        L.latLng(5.272000, -34.793000) // Northeast coordinates of Brazil
      );

      var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
        maxZoom: 17,
        attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
      });

      var map = L.map('map1', {
        center: brazilBounds.getCenter(),
        zoom: 4,
        maxBounds: brazilBounds, // Restrict panning to Brazil bounds
        layers: [OpenStreetMap_HOT]
      });

      var baseMaps = {
        "OpenStreetMap": OpenStreetMap_HOT,
        "OpenTopoMap": OpenTopoMap
      };

      L.control.layers(baseMaps).addTo(map);

      var response;

      response = $.ajax({
        url: "hidro.geojson",
        dataType: "json",
        success: function (data) {
          console.log("Hydropower data loaded");
          hidroLayer = L.geoJSON(data, {
            pointToLayer: function (feature, latlng) {
              return L.marker(latlng, {
                icon: L.icon({
                  iconUrl: "bluedot.png",
                  iconSize: [5, 8],
            
                })
              });
            },
            onEachFeature: function (feature, layer) {
              layer.bindPopup("<b>Name of Unit " + feature.properties.nome + "</b><br>" +
                "Is it operating? " + feature.properties.operaciona);
            }
          });

          $("#toggleHidro").show();
          $("#toggleHidro").click(function () {
            if (hidroVisible) {
              hidroVisible = false;
              hidroLayer.removeFrom(map);
            } else {
              hidroVisible = true;
              hidroLayer.addTo(map);
            }
          });
        },
        error: function (xhr) {
          alert(xhr.statusText);
        }
      });

      response = $.ajax({
        url: "edif.geojson",
        dataType: "json",
        success: function (data) {
          console.log("Edif data loaded");
          edifLayer = L.geoJSON(data, {
            pointToLayer: function (feature, latlng) {
              return L.marker(latlng, {
                icon: L.icon({
                  iconUrl: "edificon.png",
                  iconSize: [25, 41],
            
                })
              });
            },
            onEachFeature: function (feature, layer) {
              layer.bindPopup("<b>Name of Unit " + feature.properties.nome + "</b><br>" +
                "Is it operating? " + feature.properties.operaciona);
            }
          });

          $("#toggleEdif").show();
          $("#toggleEdif").click(function () {
            if (edifVisible) {
              edifVisible = false;
              edifLayer.removeFrom(map);
            } else {
              edifVisible = true;
              edifLayer.addTo(map);
            }
          });
        }
      });

      response = $.ajax({
        url: "termo.geojson",
        dataType: "json",
        success: function (data) {
          console.log("Termo data loaded");
          termoLayer = L.geoJSON(data, {
            pointToLayer: function (feature, latlng) {
              return L.marker(latlng, {
                icon: L.icon({
                  iconUrl: "termoicon.png",
                  iconSize: [25, 41],
         
                })
              });
            },
            onEachFeature: function (feature, layer) {
              layer.bindPopup("<b>Name of Unit " + feature.properties.nome + "</b><br>" +
                "Is it operating? " + feature.properties.operaciona);
            }
          });

          $("#toggleTermo").show();
          $("#toggleTermo").click(function () {
            if (termoVisible) {
              termoVisible = false;
              termoLayer.removeFrom(map);
            } else {
              termoVisible = true;
              termoLayer.addTo(map);
            }
          });
        }
      });

      response = $.ajax({
        url: "areasquilombola.geojson",
        dataType: "json",
        success: function (data) {
          console.log("Quilombola data loaded");
          quilombolaLayer = L.geoJSON(data, {
            style: {
              color: "brown",
              fillOpacity: 0.5,
            }
          });

          $("#toggleQuilombola").show();
          $("#toggleQuilombola").click(function () {
            if (quilombolaVisible) {
              quilombolaVisible = false;
              quilombolaLayer.removeFrom(map);
            } else {
              quilombolaVisible = true;
              quilombolaLayer.addTo(map);
            }
          });
        }
      });

        response = $.ajax({
        url: "brasilvulnerabilidade.geojson",
        dataType: "json",
        success: function (data) {
          console.log("Vulnerabilidade data loaded");
          vulnerabilidadeLayer = L.geoJSON(data, {
            style: {
              color: "green",
              fillOpacity: 0.5,
            }
          });

          $("#toggleVulnerabilidade").show();
          $("#toggleVulnerabilidade").click(function () {
            if (vulnerabilidadeVisible) {
              vulnerabilidadeVisible = false;
              vulnerabilidadeLayer.removeFrom(map);
            } else {
              vulnerabilidadeVisible = true;
              vulnerabilidadeLayer.addTo(map);
            }
          });
        }
      });

    }

      </script>



    initialize();

  
</body>

</html>
